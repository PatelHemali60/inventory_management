{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../service/role.service\";\nimport * as i3 from \"@angular/router\";\nexport class AddRoleComponent {\n  constructor(fb, roleService, router, route) {\n    this.fb = fb;\n    this.roleService = roleService;\n    this.router = router;\n    this.route = route;\n    this.RoleForm = this.buildUsersForm();\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n  }\n  //On init get department list and ckeck if its addMode\n  ngOnInit() {\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n    if (!this.isAddMode) {\n      this.roleService.getById(this.id).subscribe(x => this.RoleForm.patchValue(x));\n    }\n  }\n  //Reactive Form\n  buildUsersForm() {\n    return this.fb.group({\n      Name: [null, Validators.required],\n      Description: [null, Validators.required],\n      IsActive: ['false', Validators.required]\n    });\n  }\n  // role:\n  // {\n  //   \"Id\": 0,\n  //   \"Name\": \"string\",\n  //   \"Description\": \"string\",\n  //   \"IsActive\": true\n  // }\n  //Post data to db\n  addRole() {\n    this.roleData = {\n      Name: this.RoleForm.value.Name,\n      Description: this.RoleForm.value.category,\n      IsActive: 'false'\n    };\n    console.log(this.roleData, 'dataaaaaaaa');\n    this.roleService.AddRole(this.roleData).subscribe({\n      next: () => {\n        alert(\"Role added sucessfully !!!\");\n        this.navigateToList();\n      },\n      error: e => console.log(e)\n    });\n  }\n  //on Form submit\n  //on Form submit\n  onSubmit() {\n    console.log('hello there');\n    if (this.isAddMode) {\n      this.addRole();\n    } else {\n      this.updateUser();\n    }\n  }\n  //Put data to db\n  updateUser() {\n    this.roleService.updateRole(this.id, this.RoleForm.value).subscribe({\n      next: () => {\n        this.navigateToList();\n      },\n      error: e => console.log(e)\n    });\n  }\n  navigateToList() {\n    this.router.navigate(['home/roleMaster']);\n  }\n  //Rest to form controls\n  onRest() {\n    this.RoleForm.reset();\n  }\n  onCancel() {\n    this.cancel.emit();\n  }\n}\nAddRoleComponent.ɵfac = function AddRoleComponent_Factory(t) {\n  return new (t || AddRoleComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.RoleService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nAddRoleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddRoleComponent,\n  selectors: [[\"app-add-role\"]],\n  outputs: {\n    cancel: \"cancel\",\n    onSubmitData: \"onSubmitData\"\n  },\n  decls: 26,\n  vars: 1,\n  consts: [[1, \"formWrapper\", \"d-flex\", \"flex-column\", \"p-1\", \"p-sm-4\", \"overflow-hidden\"], [1, \"d-flex\", \"justify-content-between\", \"row\", \"mt-3\"], [1, \"fw-bold\", \"fs-5\", \"col-12\", \"col-sm-12\", \"col-md-10\", \"col-lg-9\", \"col-xl-9\"], [1, \"fontCommon\", \"fw-lighter\"], [1, \"overflow-hidden\", \"bg-white\", \"mt-4\", \"mx-auto\", 3, \"formGroup\"], [1, \"p-4\", \"mt-2\"], [1, \"row\", \"text-center\"], [1, \"col-12\"], [\"for\", \"Name\", 1, \"d-flex\", \"justify-content-start\", \"mb-2\", \"fw-bold\"], [\"type\", \"text\", \"id\", \"Name\", \"placeholder\", \"Name\", \"aria-label\", \"Name\", \"formControlName\", \"Name\", 1, \"form-control\", \"inputBorder\", \"text-muted\"], [1, \"col-7\", \"mt-4\"], [\"for\", \"Description\", 1, \"d-flex\", \"justify-content-start\", \"mb-2\", \"fw-bold\"], [\"type\", \"text\", \"id\", \"Description\", \"placeholder\", \"Description\", \"aria-label\", \"default input example\", \"formControlName\", \"Description\", 1, \"form-control\", \"inputBorder\", \"text-muted\"], [1, \"row\", \"mt-3\", \"mb-4\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"submit\", 1, \"btnSubmit\", \"rounded\", 3, \"click\"], [1, \"fontCommon\", \"text-white\"], [\"type\", \"submit\", 1, \"btnCancle\", \"ms-4\", \"rounded\"], [1, \"fontCommon\", 3, \"click\"]],\n  template: function AddRoleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\", 2);\n      i0.ɵɵtext(3, \"inventory > \");\n      i0.ɵɵelementStart(4, \"span\", 3);\n      i0.ɵɵtext(5, \"Add Role\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"form\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"label\", 8);\n      i0.ɵɵtext(11, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 10)(14, \"label\", 11);\n      i0.ɵɵtext(15, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 12);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 13)(18, \"div\", 7)(19, \"div\", 14)(20, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function AddRoleComponent_Template_button_click_20_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(21, \"span\", 16);\n      i0.ɵɵtext(22, \"Submit\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"button\", 17)(24, \"span\", 18);\n      i0.ɵɵlistener(\"click\", function AddRoleComponent_Template_span_click_24_listener() {\n        return ctx.onCancel();\n      });\n      i0.ɵɵtext(25, \"Cancle\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.RoleForm);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Validators","AddRoleComponent","constructor","fb","roleService","router","route","RoleForm","buildUsersForm","id","snapshot","params","isAddMode","ngOnInit","getById","subscribe","x","patchValue","group","Name","required","Description","IsActive","addRole","roleData","value","category","console","log","AddRole","next","alert","navigateToList","error","e","onSubmit","updateUser","updateRole","navigate","onRest","reset","onCancel","cancel","emit","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","RoleService","i3","Router","ActivatedRoute","selectors","outputs","onSubmitData","decls","vars","consts","template","AddRoleComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AddRoleComponent_Template_button_click_20_listener","AddRoleComponent_Template_span_click_24_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\pc1\\Desktop\\inventory_dashboard\\inventory\\src\\app\\modules\\role\\add-role\\add-role.component.ts","C:\\Users\\pc1\\Desktop\\inventory_dashboard\\inventory\\src\\app\\modules\\role\\add-role\\add-role.component.html"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\nimport { RoleService } from '../service/role.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-add-role',\n  templateUrl: './add-role.component.html',\n  styleUrls: ['./add-role.component.scss']\n})\nexport class AddRoleComponent {\n\n\n  @Output() cancel !: EventEmitter<Event>;\n  @Output() onSubmitData!: EventEmitter<Event>\n\n  public RoleForm: FormGroup;\n  public roleData!: any;\n  private id: number;\n  private isAddMode: boolean;\n;\n\n\n  constructor(private fb: FormBuilder, private roleService: RoleService, private router: Router, private route: ActivatedRoute,) {\n    this.RoleForm = this.buildUsersForm();\n\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n\n  }\n\n\n  //On init get department list and ckeck if its addMode\n  ngOnInit(): void {\n\n\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n\n    if (!this.isAddMode) {\n      this.roleService.getById(this.id).subscribe(x => this.RoleForm.patchValue(x));\n    }\n  }\n\n  //Reactive Form\n  private buildUsersForm(): FormGroup {\n    return this.fb.group({\n      Name: [null, Validators.required],\n      Description:[null,Validators.required],\n      IsActive:['false',Validators.required],\n    });\n  }\n\n  // role:\n  // {\n  //   \"Id\": 0,\n  //   \"Name\": \"string\",\n  //   \"Description\": \"string\",\n  //   \"IsActive\": true\n  // }\n\n\n     //Post data to db\n  public addRole(): void {\n\n    this.roleData = {\n      Name: this.RoleForm.value.Name,\n      Description: this.RoleForm.value.category,\n      IsActive:'false'\n    }\n\n    console.log(this.roleData, 'dataaaaaaaa');\n\n    this.roleService.AddRole(this.roleData).subscribe({\n      next:() => {\n        alert(\"Role added sucessfully !!!\");\n        this.navigateToList();\n      },\n      error:(e:any) => console.log(e)\n    });\n  }\n\n  //on Form submit\n  //on Form submit\n  public onSubmit(): void {\n    console.log('hello there')\n    if (this.isAddMode) {\n      this.addRole();\n    }\n    else {\n      this.updateUser();\n    }\n  }\n\n   //Put data to db\n   public updateUser(): void {\n\n    this.roleService.updateRole(this.id, this.RoleForm.value).subscribe({\n      next: () => {\n\n        this.navigateToList();\n      },\n      error: (e:any) => console.log(e)\n    })\n  }\n\n\n  public navigateToList(): void {\n    this.router.navigate(['home/roleMaster'])\n  }\n\n  //Rest to form controls\n  onRest() {\n    this.RoleForm.reset();\n  }\n\n  onCancel(){\n    this.cancel.emit();\n  }\n\n\n\n}\n","<div class=\"formWrapper  d-flex flex-column p-1 p-sm-4 overflow-hidden\">\n    <div class=\"d-flex justify-content-between row mt-3\">\n        <span class=\"fw-bold fs-5 col-12  col-sm-12 col-md-10 col-lg-9 col-xl-9\">inventory > <span class=\"fontCommon fw-lighter\">Add Role</span></span>\n    </div>\n    <!-- form division start -->\n    <form [formGroup]=\"RoleForm\" class=\"overflow-hidden  bg-white mt-4 mx-auto\">\n        <div class=\" p-4 mt-2\">\n            <div class=\"row text-center \">\n                <div class=\"col-12\">\n                    <label for=\"Name\" class=\"d-flex justify-content-start mb-2 fw-bold\">Name</label>\n                    <input class=\"form-control inputBorder text-muted\" type=\"text\" id=\"Name\" placeholder=\"Name\" aria-label=\"Name\" formControlName=\"Name\">\n                </div>\n                <div class=\"col-7 mt-4\">\n                    <label for=\"Description\" class=\"d-flex justify-content-start mb-2 fw-bold\">Description</label>\n                    <input class=\"form-control inputBorder text-muted\" type=\"text\" id=\"Description\" placeholder=\"Description\" aria-label=\"default input example\" formControlName=\"Description\">\n                </div>\n            </div>\n        </div>\n        <!-- button design -->\n        <div class=\"row mt-3 mb-4 \">\n            <div class=\"col-12 \">\n                <div class=\"d-flex justify-content-center \">\n                    <button type=\"submit\" class=\" btnSubmit rounded \" (click)=\"onSubmit()\">\n                    <span class=\"fontCommon text-white \">Submit</span></button>\n                    <button type=\"submit\" class=\" btnCancle ms-4 rounded \">\n                  <span class=\"fontCommon \" (click)=\"onCancel()\">Cancle</span></button>\n                </div>\n            </div>\n        </div>\n    </form>\n\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}