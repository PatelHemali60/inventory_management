{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Output } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AddRoleComponent = class AddRoleComponent {\n  constructor(fb, roleService, router, route) {\n    this.fb = fb;\n    this.roleService = roleService;\n    this.router = router;\n    this.route = route;\n    this.RoleForm = this.buildUsersForm();\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n  }\n  //On init get department list and ckeck if its addMode\n  ngOnInit() {\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n    if (!this.isAddMode) {\n      this.roleService.getById(this.id).subscribe(x => this.RoleForm.patchValue(x));\n    }\n  }\n  //Reactive Form\n  buildUsersForm() {\n    return this.fb.group({\n      Name: [null, Validators.required],\n      Description: [null, Validators.required],\n      IsActive: ['false', Validators.required]\n    });\n  }\n  // role:\n  // {\n  //   \"Id\": 0,\n  //   \"Name\": \"string\",\n  //   \"Description\": \"string\",\n  //   \"IsActive\": true\n  // }\n  //Post data to db\n  addRole() {\n    this.roleData = {\n      Name: this.RoleForm.value.Name,\n      Description: this.RoleForm.value.category,\n      IsActive: 'false'\n    };\n    console.log(this.roleData, 'dataaaaaaaa');\n    this.roleService.AddRole(this.roleData).subscribe({\n      next: () => {\n        alert(\"Role added sucessfully !!!\");\n        this.navigateToList();\n      },\n      error: e => console.log(e)\n    });\n  }\n  //on Form submit\n  //on Form submit\n  onSubmit() {\n    console.log('hello there');\n    if (this.isAddMode) {\n      this.addRole();\n    } else {\n      this.updateUser();\n    }\n  }\n  //Put data to db\n  updateUser() {\n    this.roleService.updateRole(this.id, this.RoleForm.value).subscribe({\n      next: () => {\n        this.navigateToList();\n      },\n      error: e => console.log(e)\n    });\n  }\n  navigateToList() {\n    this.router.navigate(['/inventory']);\n  }\n  //Rest to form controls\n  onRest() {\n    this.RoleForm.reset();\n  }\n  onCancel() {\n    this.cancel.emit();\n  }\n};\n__decorate([Output()], AddRoleComponent.prototype, \"cancel\", void 0);\n__decorate([Output()], AddRoleComponent.prototype, \"onSubmitData\", void 0);\nAddRoleComponent = __decorate([Component({\n  selector: 'app-add-role',\n  templateUrl: './add-role.component.html',\n  styleUrls: ['./add-role.component.scss']\n})], AddRoleComponent);","map":{"version":3,"names":["Component","Output","Validators","AddRoleComponent","constructor","fb","roleService","router","route","RoleForm","buildUsersForm","id","snapshot","params","isAddMode","ngOnInit","getById","subscribe","x","patchValue","group","Name","required","Description","IsActive","addRole","roleData","value","category","console","log","AddRole","next","alert","navigateToList","error","e","onSubmit","updateUser","updateRole","navigate","onRest","reset","onCancel","cancel","emit","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\pc1\\Desktop\\inventory_dashboard\\inventory\\src\\app\\modules\\role\\add-role\\add-role.component.ts"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\nimport { RoleService } from '../service/role.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-add-role',\n  templateUrl: './add-role.component.html',\n  styleUrls: ['./add-role.component.scss']\n})\nexport class AddRoleComponent {\n\n\n  @Output() cancel !: EventEmitter<Event>;\n  @Output() onSubmitData!: EventEmitter<Event>\n\n  public RoleForm: FormGroup;\n  public roleData!: any;\n  private id: number;\n  private isAddMode: boolean;\n;\n\n\n  constructor(private fb: FormBuilder, private roleService: RoleService, private router: Router, private route: ActivatedRoute,) {\n    this.RoleForm = this.buildUsersForm();\n\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n\n  }\n\n\n  //On init get department list and ckeck if its addMode\n  ngOnInit(): void {\n\n\n    this.id = this.route.snapshot.params['id'];\n    this.isAddMode = !this.id;\n\n    if (!this.isAddMode) {\n      this.roleService.getById(this.id).subscribe(x => this.RoleForm.patchValue(x));\n    }\n  }\n\n  //Reactive Form\n  private buildUsersForm(): FormGroup {\n    return this.fb.group({\n      Name: [null, Validators.required],\n      Description:[null,Validators.required],\n      IsActive:['false',Validators.required],\n    });\n  }\n\n  // role:\n  // {\n  //   \"Id\": 0,\n  //   \"Name\": \"string\",\n  //   \"Description\": \"string\",\n  //   \"IsActive\": true\n  // }\n\n\n     //Post data to db\n  public addRole(): void {\n\n    this.roleData = {\n      Name: this.RoleForm.value.Name,\n      Description: this.RoleForm.value.category,\n      IsActive:'false'\n    }\n\n    console.log(this.roleData, 'dataaaaaaaa');\n\n    this.roleService.AddRole(this.roleData).subscribe({\n      next:() => {\n        alert(\"Role added sucessfully !!!\");\n        this.navigateToList();\n      },\n      error:(e:any) => console.log(e)\n    });\n  }\n\n  //on Form submit\n  //on Form submit\n  public onSubmit(): void {\n    console.log('hello there')\n    if (this.isAddMode) {\n      this.addRole();\n    }\n    else {\n      this.updateUser();\n    }\n  }\n\n   //Put data to db\n   public updateUser(): void {\n\n    this.roleService.updateRole(this.id, this.RoleForm.value).subscribe({\n      next: () => {\n\n        this.navigateToList();\n      },\n      error: (e:any) => console.log(e)\n    })\n  }\n\n\n  public navigateToList(): void {\n    this.router.navigate(['/inventory'])\n  }\n\n  //Rest to form controls\n  onRest() {\n    this.RoleForm.reset();\n  }\n\n  onCancel(){\n    this.cancel.emit();\n  }\n\n\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}